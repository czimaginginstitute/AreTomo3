# 1. remap3D.py maps 3D (x, y, z) targets picked from the old
#    tomogram into the new tomogram that is reconstructed from the
#    same tilt series with a different alignment file (.aln).

# 2. The input parameters include:
#    1) old_vol_size: three integers of the old tomogram sizes in
#       x, y, and z dimensions, respectively.
#    2) new_vol_size: the same as the old_vol_size except that it
#       for the new tomogram.
#    3) old_star: particle star file corresponding to old_vol_size
#    4) new_star: particle star file corresponding to new_vol_size.
#       This is also new star file to be generated.
#    5) old_aln: name of the directory storing the old aln files.
#    6) new_aln: name of the directory storing the new aln files.
#    7) old_aln_prefix: prefix of the old aln file name.
#    8) old_pix_size: the pixel size associated with the old star
#       file.
#    9) new_pix_size: the pixel size associated with the new star
#       file.

# 3. Example of command line:
#    python ~/PyProjs/AreTomo3/Remap3D/remap3D.py 
#       -ovs 4096 4096 1200 
#       -nvs 4096 4096 1200
#       -ops 1.54
#       -nps 1.54
#       -os 24mar08a/stars/20240308_002_ribosome.star 
#       -ns Temp/ribo_new.star 
#       -oa 24mar08a/run002/alns 
#       -na 20240308_002_Krios1_RP_Lys6prtns/run006/alns/ 
#       -oap Position_
#    20240308_002_ribosome.star is relion generated particle star
#       file that lists picked particle 3D coordinates, which are
#       to be mapped to new alignment based tomograms.
#    Temp/ribo_new.star stores the mapped target coordinates for
#       the new tomograms.
#    24mar08a/run002/alns is the directory that contains all the
#       old aln files generated by AreTomo3 and corresponding to
#       the tomograms where 3D targets in 20240308_002_ribosome.star
#       were picked.
#    20240308_002_Krios1_RP_Lys6prtns/run006/alns/ is the directory
#       that stores the new aln files, which are used to reconstruct
#       the new tomograms to which the old targets will be mapped.
#    Positin_ is the prefix of the aln file names since tomogram
#       names listed in the star file may be appended with extra
#       information. remap3D uses this prefix to extract the
#       correct aln file names.
#    -ovs: old volume size (in pixel)
#    -nvs: new volume size (in pixel)
#    -os:  old star file
#    -ns:  new star file
#    -oa:  old aln file directory
#    -na:  new aln file directory
#    -oap: prefix of old aln file names, e.g. Position_ in Position_1.aln
#    -ops: old volume pixel size
#    -nps: new volume pixel size

# 4. remap3D.py assumes the old and new aln files are the same but
#    in different directories.
